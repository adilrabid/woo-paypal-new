(()=>{"use strict";var e={20(e,t,r){var a=r(609),o=Symbol.for("react.element"),n=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,s=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function i(e,t,r){var a,n={},i=null,d=null;for(a in void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),void 0!==t.ref&&(d=t.ref),t)c.call(t,a)&&!p.hasOwnProperty(a)&&(n[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===n[a]&&(n[a]=t[a]);return{$$typeof:o,type:e,key:i,ref:d,props:n,_owner:s.current}}t.Fragment=n,t.jsx=i,t.jsxs=i},848(e,t,r){e.exports=r(20)},609(e){e.exports=window.React}},t={};function r(a){var o=t[a];if(void 0!==o)return o.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}const a=window.wp.htmlEntities,o=window.wc.wcBlocksRegistry;var n=r(609);const c=window.wc.wcSettings;function s(e,t=null){return function(e,t,r=null){return(0,c.getSetting)(t,{})[e]||r}(e,"paypal_checkout_data",t)}var p=r(848);const i=({eventRegistration:e,activePaymentMethod:t})=>{const r=(0,a.decodeEntities)(s("description",""));return(0,n.useEffect)(()=>{!function(){const e=document.querySelector("#paypal-checkout-button-container");e&&"undefined"!=typeof paypal?paypal.Buttons({createOrder:async(e,t)=>{const r=new FormData;r.append("action",wc_paypal_checkout_params.create_order_ajax_action),r.append("nonce",wc_paypal_checkout_params.nonce);try{const e=await fetch(wc_paypal_checkout_params.ajax_url,{method:"post",body:r}),t=await e.json();if(t.success)return t.data.order_id;throw new Error(t.data.message||"Order creation failed")}catch(e){console.error(e),alert(e.message)}},onApprove:async(e,t)=>{const r=new FormData;r.append("action",wc_paypal_checkout_params.capture_order_ajax_action),r.append("paypal_order_id",e.orderID),r.append("wc_order_id",e.orderID),r.append("nonce",wc_paypal_checkout_params.nonce);try{const e=await fetch(wc_paypal_checkout_params.ajax_url,{method:"post",body:r}),t=await e.json();t.success?window.location.href=t.data.redirect:alert("Payment failed: "+(t.data.message||"Unknown error"))}catch(e){console.error(e),alert(e.message)}},onError:function(e){console.error("PayPal Error:",e),alert("An error occurred during payment. Please try again.")}}).render(e):console.log("PayPal: SDK not loaded or container not found")}()},[]),(0,n.useEffect)(()=>{const e=document.querySelector(".wc-block-components-checkout-place-order-button");if(e)return e.style.display="none",()=>{e.style.display=""}},[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("p",{children:r}),(0,p.jsx)("div",{id:"paypal-checkout-button-container"})]})},d=()=>{const e=(0,a.decodeEntities)(s("description",""));return(0,p.jsx)(p.Fragment,{children:e})},l=(0,a.decodeEntities)(s("title")),u=e=>{const{PaymentMethodLabel:t,PaymentMethodIcons:r}=e.components,a=s("ppcpIcons").map(e=>({id:e.id,alt:e.alt,src:e.src}));return(0,p.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,p.jsx)(t,{text:l}),(0,p.jsx)(r,{icons:a,align:"right"})]})};(0,o.registerPaymentMethod)({name:"paypal_checkout",label:(0,p.jsx)(u,{}),content:(0,p.jsx)(i,{}),edit:(0,p.jsx)(d,{}),canMakePayment:()=>!0,ariaLabel:l,supports:{features:s("supports",[])}})})();